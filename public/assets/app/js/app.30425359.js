(function(){"use strict";var t={2744:function(t,e,s){var a=s(9963),o=s(6252);const l={class:"row col-12 min-vh-100 bg-conteyner m-0"},i={class:"col-11 col-sm-9 mt-5"},r={class:"col-11 col-sm-3 mt-2 bg-stat radius m-auto mb-5 scroll"};function n(t,e,s,a,n,c){const d=(0,o.up)("header-component"),u=(0,o.up)("nav-component"),g=(0,o.up)("search-component"),h=(0,o.up)("router-view"),m=(0,o.up)("feedback-component");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(d),(0,o.Wm)(u),(0,o._)("div",l,[(0,o._)("div",i,[(0,o.Wm)(g),(0,o.Wm)(h)]),(0,o._)("div",r,[(0,o.Wm)(m)])])],64)}var c=s(3577);const d=t=>((0,o.dD)("data-v-3de1e614"),t=t(),(0,o.Cn)(),t),u={class:"row"},g=d((()=>(0,o._)("div",{class:"col-sm-7 col-12"},[(0,o._)("h1",{class:"p-1 text-lg-start text-center"},"MYAPI.LOC")],-1))),h={class:"col-sm-4 col-12 ms-auto me-3"},m={class:"navbar navbar-expand-lg navbar-expand navbar-light"},p={class:"navbar-nav ms-1 ms-lg-auto"},_={class:"nav-item dropdown"},w=d((()=>(0,o._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-person-bounding-box",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z"}),(0,o._)("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"})])],-1))),v={class:"dropdown-menu bg-stat","aria-labelledby":"navbarDropdownMenuLink"},y={key:0},b=d((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-box-arrow-in-right",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})],-1))),f=[b],k={key:1},x=d((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-person-plus",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"})],-1))),C=[x],D={key:2},z=d((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-box-arrow-left",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"})],-1))),q=[z],S={class:"nav-item"},U=d((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-basket",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9H2zM1 7v1h14V7H1zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z"})],-1))),A={class:"text-danger"};function M(t,e,s,l,i,r){const n=(0,o.up)("router-link"),d=(0,o.up)("aut"),b=(0,o.up)("reg");return(0,o.wg)(),(0,o.iD)("header",u,[g,(0,o._)("div",h,[(0,o._)("nav",m,[(0,o._)("ul",p,[(0,o._)("li",_,[w,(0,o._)("ul",v,[this.$store.getters.getAuth?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("li",y,[(0,o._)("a",{class:"dropdown-item",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.showAut=!i.showAut),["prevent"]))},f)])),this.$store.getters.getAuth?((0,o.wg)(),(0,o.iD)("li",D,[(0,o._)("a",{class:"dropdown-item",onClick:e[2]||(e[2]=(0,a.iM)((t=>r.logout()),["prevent"]))},q)])):((0,o.wg)(),(0,o.iD)("li",k,[(0,o._)("a",{class:"dropdown-item",onClick:e[1]||(e[1]=(0,a.iM)((t=>i.showReg=!i.showReg),["prevent"]))},C)]))])]),(0,o._)("li",S,[(0,o.Wm)(n,{class:"nav-link",to:{name:"basket"}},{default:(0,o.w5)((()=>[U,(0,o._)("span",A,[(0,o._)("strong",null,(0,c.zw)(this.$store.getters.getCount),1)])])),_:1})])])])]),i.showAut?((0,o.wg)(),(0,o.j4)(d,{key:0,onClose:r.closeAut},null,8,["onClose"])):(0,o.kq)("",!0),i.showReg?((0,o.wg)(),(0,o.j4)(b,{key:1,onClose:r.closeReg},null,8,["onClose"])):(0,o.kq)("",!0)])}s(7658);const P=t=>((0,o.dD)("data-v-465c2fb3"),t=t(),(0,o.Cn)(),t),I={class:"modal-backdrop"},$={class:"modal"},O={class:"modal-header"},V=P((()=>(0,o._)("h2",null,"Registration",-1))),H=P((()=>(0,o._)("strong",null,"X",-1))),N=[H],L={class:"d-flex col-12 flex-row text-center justify-content-center"},R={key:0,class:"m-3 p-3 col-10 col-sm-6"},Z={class:"display-6"},B={key:1,class:"m-3 p-3 col-10 col-sm-6"},E={class:"text-danger text-start m-o ps-3"},Y={class:"text-danger text-start m-o ps-3"},j={class:"text-danger text-start m-o ps-3"},F={class:"text-danger text-start m-o ps-3"},K=P((()=>(0,o._)("option",{disabled:"",value:""},"Edge",-1))),Q=["value"],T={class:"text-danger text-start m-o ps-3"},J=P((()=>(0,o._)("option",{value:""},"Region",-1))),W=["value"],G=P((()=>(0,o._)("option",{disabled:"",value:""},"City",-1))),X=["value"],tt={key:2,class:"text-danger text-start m-o ps-3"},et={class:"text-danger text-start m-o ps-3"},st={class:"text-danger text-start m-o ps-3"},at={class:"form-control mt-2 p-1"},ot=["src"],lt=P((()=>(0,o._)("span",{class:"text-danger"},"Remove image",-1))),it={name:"image",class:"text-danger text-start m-o ps-3"},rt=P((()=>(0,o._)("label",{class:"p-3"},"Gender",-1))),nt=P((()=>(0,o._)("br",null,null,-1))),ct=P((()=>(0,o._)("label",{class:"form-check-label p-3 pt-0"},"Male",-1))),dt=P((()=>(0,o._)("br",null,null,-1))),ut=P((()=>(0,o._)("label",{class:"form-check-label p-3 pt-0"},"Female",-1))),gt={class:"text-danger text-start m-o ps-3"};function ht(t,e,s,l,i,r){return(0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("div",$,[(0,o._)("header",O,[V,(0,o._)("button",{type:"button",class:"btn-close me-4",onClick:e[0]||(e[0]=(...t)=>r.close&&r.close(...t))},N)]),(0,o._)("div",L,[i.success?((0,o.wg)(),(0,o.iD)("div",R,[(0,o._)("span",Z,(0,c.zw)(i.success),1)])):((0,o.wg)(),(0,o.iD)("div",B,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control m-3 mb-0 p-3",name:"name","onUpdate:modelValue":e[1]||(e[1]=t=>i.userData.name=t),placeholder:"Name"},null,512),[[a.nr,i.userData.name,void 0,{trim:!0}]]),(0,o._)("div",E,(0,c.zw)(i.err.name[0]),1),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control m-3 mb-0 p-3",name:"last_name","onUpdate:modelValue":e[2]||(e[2]=t=>i.userData.last_name=t),placeholder:"Last name"},null,512),[[a.nr,i.userData.last_name,void 0,{trim:!0}]]),(0,o._)("div",Y,(0,c.zw)(i.err.last_name[0]),1),(0,o.wy)((0,o._)("input",{type:"email",class:"form-control m-3 mb-0 p-3",name:"email","onUpdate:modelValue":e[3]||(e[3]=t=>i.userData.email=t),placeholder:"Email"},null,512),[[a.nr,i.userData.email,void 0,{trim:!0}]]),(0,o._)("div",j,(0,c.zw)(i.err.email[0]),1),(0,o.wy)((0,o._)("input",{type:"tel",class:"form-control m-3 mb-0 p-3",name:"pone","onUpdate:modelValue":e[4]||(e[4]=t=>i.userData.pone=t),placeholder:"Pone"},null,512),[[a.nr,i.userData.pone,void 0,{trim:!0}]]),(0,o._)("div",F,(0,c.zw)(i.err.pone[0]),1),(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.userData.edge_id=t),class:"form-select m-3 mb-0 p-3",onChange:e[6]||(e[6]=t=>{r.queryRegions(t),r.queryCity(t)})},[K,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.edges,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,Q)))),128))],544),[[a.bM,i.userData.edge_id]]),(0,o._)("div",T,(0,c.zw)(i.err.edge_id[0]),1),i.regions?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:0,"onUpdate:modelValue":e[7]||(e[7]=t=>i.region_id=t),class:"form-select m-3 mb-0 p-3",onChange:e[8]||(e[8]=t=>r.queryCity(t))},[J,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.regions,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,W)))),128))],544)),[[a.bM,i.region_id]]):(0,o.kq)("",!0),i.cities?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:1,"onUpdate:modelValue":e[9]||(e[9]=t=>i.userData.city_id=t),class:"form-select m-3 mb-0 p-3"},[G,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.cities,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,X)))),128))],512)),[[a.bM,i.userData.city_id]]):(0,o.kq)("",!0),i.cities?((0,o.wg)(),(0,o.iD)("div",tt,(0,c.zw)(i.err.city_id[0]),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control m-3 mb-0 p-3",name:"address","onUpdate:modelValue":e[10]||(e[10]=t=>i.userData.address=t),placeholder:"Address"},null,512),[[a.nr,i.userData.address,void 0,{trim:!0}]]),(0,o._)("div",et,(0,c.zw)(i.err.address[0]),1),(0,o.wy)((0,o._)("input",{type:"date",class:"form-control m-3 mb-0 p-3","onUpdate:modelValue":e[11]||(e[11]=t=>i.userData.age=t),max:"2006-01-01"},null,512),[[a.nr,i.userData.age]]),(0,o._)("div",st,(0,c.zw)(i.err.age[0]),1),(0,o._)("div",{onClick:e[12]||(e[12]=t=>r.removeImg()),class:"col-3 m-auto btn"},[(0,o.wy)((0,o._)("div",at,[(0,o._)("img",{src:i.image},null,8,ot),lt],512),[[a.F8,i.image]])]),(0,o._)("input",{ref:"image",id:"formFile",type:"file",class:"form-control m-3 mb-0 p-3",accept:"image/*",onInput:e[13]||(e[13]=t=>r.fileUpload(t)),placeholder:"Image"},null,544),(0,o._)("div",it,(0,c.zw)(i.err.img[0]),1),(0,o._)("div",null,[rt,nt,(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"radio",name:"gender","onUpdate:modelValue":e[14]||(e[14]=t=>i.userData.gender=t),value:"male"},null,512),[[a.G2,i.userData.gender]]),ct,dt,(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"radio",name:"gender","onUpdate:modelValue":e[15]||(e[15]=t=>i.userData.gender=t),value:"female"},null,512),[[a.G2,i.userData.gender]]),ut]),(0,o._)("div",gt,(0,c.zw)(i.err.gender[0]),1),(0,o._)("button",{onClick:e[16]||(e[16]=t=>r.registration()),class:"btn btn-info m-3 p-3"}," Registration ")]))])])])}var mt=s(196),pt={name:"ModalRegComponent",data(){return{err:{name:[""],last_name:[""],email:[""],pone:[""],edge_id:[""],city_id:[""],address:[""],age:[""],gender:[""],img:[""]},userData:{name:"",last_name:"",email:"",pone:"",city_id:"",edge_id:"",address:"",age:"",gender:"",img:""},edges:{},regions:"",region_id:"",cities:"",success:"",image:""}},computed:{url(){return this.$store.state.URL+"/api/registration"}},methods:{close(){this.$emit("close")},fileUpload(t){this.userData.img=t.target.files[0];const e=new FileReader;e.addEventListener("load",function(){this.image=e.result}.bind(this),!1),this.userData.img&&this.userData.img.name&&e.readAsDataURL(this.userData.img)},removeImg(){this.image="",this.userData.img="",this.$refs.image.value=""},registration(){this.err={name:[""],last_name:[""],email:[""],pone:[""],edge_id:[""],region_id:[""],city_id:[""],address:[""],age:[""],gender:[""],img:[""]};const t=new FormData;t.append("name",this.userData.name),t.append("last_name",this.userData.last_name),t.append("email",this.userData.email),t.append("pone",this.userData.pone),t.append("city_id",this.userData.city_id),t.append("edge_id",this.userData.edge_id),t.append("address",this.userData.address),t.append("img",this.userData.img),t.append("gender",this.userData.gender),t.append("age",this.userData.age),mt.Z.post(this.url,t).then((t=>{this.userData={name:"",last_name:"",email:"",pone:"",city_id:"",edge_id:"",address:"",age:"",img:"",gender:""},this.success=t.data})).catch((t=>{console.log(t),t.response&&(this.err=Object.assign(this.err,t.response.data.errors))}))},queryRegions(t){let e=t.target.value;this.region_id="",e&&mt.Z.get(this.url+"/edge_regions/"+e).then((t=>{this.regions=t.data})).catch((t=>{console.log(t)}))},queryCity(t){let e=t.target.value,s="";if(this.region_id&&e)s+=this.url+"/region_cities/"+e;else{if(!this.userData.edge_id||this.region_id)return!1;s+=this.url+"/edge_cities/"+this.userData.edge_id}mt.Z.get(s).then((t=>{this.cities=t.data})).catch((t=>{console.log(t)}))},query(){mt.Z.get(this.url+"/edges").then((t=>{this.edges=t.data})).catch((t=>{console.log(t)}))}},created(){this.query()}},_t=s(3744);const wt=(0,_t.Z)(pt,[["render",ht],["__scopeId","data-v-465c2fb3"]]);var vt=wt;const yt=t=>((0,o.dD)("data-v-42e5fdf4"),t=t(),(0,o.Cn)(),t),bt={class:"modal-backdrop"},ft={class:"modal"},kt={class:"modal-header"},xt=yt((()=>(0,o._)("h2",null,"Authentication",-1))),Ct=yt((()=>(0,o._)("strong",null,"X",-1))),Dt=[Ct],zt={key:0,class:"d-flex col-12 flex-row text-center justify-content-center"},qt={class:"m-3 p-3 col-10 col-sm-6"},St=["v-show"],Ut={class:"p-3"},At={key:1,class:"d-flex col-12 flex-row text-center justify-content-center"},Mt={class:"m-3 p-3 col-10 col-sm-6"},Pt={key:0},It={class:"display-6"},$t={class:"p-3"},Ot={key:1},Vt={class:"text-danger"},Ht={class:"col-3 m-3 p-3 bg-light"},Nt={class:"text-danger"},Lt={class:"p-3"};function Rt(t,e,s,l,i,r){return(0,o.wg)(),(0,o.iD)("div",bt,[(0,o._)("div",ft,[(0,o._)("header",kt,[xt,(0,o._)("button",{type:"button",class:"btn-close display-6 me-4",onClick:e[0]||(e[0]=(...t)=>r.close&&r.close(...t))},Dt)]),i.show?((0,o.wg)(),(0,o.iD)("div",zt,[(0,o._)("div",qt,[(0,o._)("div",{"v-show":i.err,class:"col-12 text-center text-danger"},(0,c.zw)(i.err),9,St),(0,o.wy)((0,o._)("input",{type:"email",class:"form-control p-3 mt-3","onUpdate:modelValue":e[1]||(e[1]=t=>i.email=t),placeholder:"Email"},null,512),[[a.nr,i.email]]),(0,o.wy)((0,o._)("input",{type:"password",class:"form-control p-3 mt-3","onUpdate:modelValue":e[2]||(e[2]=t=>i.password=t),placeholder:"Password"},null,512),[[a.nr,i.password]]),(0,o._)("div",Ut,[(0,o._)("button",{class:"btn btn-info p-3 m-3",onClick:e[3]||(e[3]=t=>r.login())},"Login"),(0,o._)("button",{class:"btn btn-info p-3 m-3",onClick:e[4]||(e[4]=t=>i.show=!i.show)},"Reset password")])])])):((0,o.wg)(),(0,o.iD)("div",At,[(0,o._)("div",Mt,[i.success?((0,o.wg)(),(0,o.iD)("div",Pt,[(0,o._)("span",It,(0,c.zw)(i.success),1),(0,o._)("div",$t,[(0,o._)("button",{class:"btn btn-info p-3 m-3",onClick:e[5]||(e[5]=t=>i.show=!i.show)},"Close")])])):((0,o.wg)(),(0,o.iD)("div",Ot,[(0,o.wy)((0,o._)("input",{type:"email",class:"form-control p-3 mt-3","onUpdate:modelValue":e[6]||(e[6]=t=>i.email=t),placeholder:"Email"},null,512),[[a.nr,i.email]]),(0,o._)("div",Vt,(0,c.zw)(i.emailErr),1),(0,o._)("div",Ht,(0,c.zw)(i.captcha),1),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control p-3 mt-3","onUpdate:modelValue":e[7]||(e[7]=t=>i.newCaptcha=t),placeholder:"Captcha"},null,512),[[a.nr,i.newCaptcha]]),(0,o._)("div",Nt,(0,c.zw)(i.errCaptcha),1),(0,o._)("div",Lt,[(0,o._)("button",{class:"btn btn-info p-3 m-3",onClick:e[8]||(e[8]=t=>r.reset())},"Reset password"),(0,o._)("button",{class:"btn btn-info p-3 m-3",onClick:e[9]||(e[9]=t=>i.show=!i.show)},"Close")])]))])]))])])}const Zt=mt.Z.create();Zt.interceptors.request.use((t=>(sessionStorage.getItem("token")&&(t.headers.authorization=`Bearer ${sessionStorage.getItem("token")}`),t)),(t=>{console.log(t)})),Zt.interceptors.response.use((t=>t),(async t=>{if("Token has expired"===t.response.data.message)return mt.Z.post("http://api.loc/api/auth/refresh",{},{headers:{authorization:`Bearer ${sessionStorage.getItem("token")}`}}).then((e=>(sessionStorage.setItem("token",e.data.authorisation.token),t.config.headers.authorization=`Bearer ${sessionStorage.getItem("token")}`,Zt.request(t.config))));console.log(t)}));var Bt=Zt,Et={name:"ModalAutComponent",data(){return{email:"",password:"",show:!0,captcha:"",newCaptcha:"",errCaptcha:"",success:"",emailErr:"",err:"",products:{}}},computed:{url(){return this.$store.state.URL+"/api/"}},methods:{getProducts(){localStorage.getItem("basket")&&(this.products=JSON.parse(localStorage.getItem("basket")))},getCount(t){Bt.get(this.url+"orders/count/"+t).then((t=>{localStorage.clear(),localStorage.setItem("count",t.data),this.$store.dispatch("setCount"),this.$router.push({name:"home"}),this.close()})).catch((t=>{console.log(t)}))},setOrder(t,e){const s={product_id:t.id,quantity:t.quantity,price:t.price,city_id:e.city_id,address:e.address,region_id:e.region_id,user_id:e.id};console.log(s),Bt.post(this.url+"orders/auth",s).then((()=>{this.deleted(t.id),this.getProducts()})).catch((t=>{console.log(t)}))},deleted(t){let e=JSON.parse(localStorage.getItem("basket")),s=e.filter((e=>e.id!==t));s=JSON.stringify(s),localStorage.setItem("basket",s);let a=1*localStorage.getItem("count");a>0?a-=1:a=0,localStorage.setItem("count",a),this.$store.dispatch("setCount"),this.getProducts()},close(){this.$emit("close")},login(){const t={email:this.email,password:this.password};mt.Z.post(this.url+"auth/login",t).then((t=>{sessionStorage.setItem("token",t.data.authorisation.token),this.$store.dispatch("setAuth"),this.$store.dispatch("setUser");const e=t.data.user;localStorage.getItem("basket")&&this.products.forEach((t=>{this.setOrder(t,e)})),this.getCount(e.id)})).catch((t=>{console.log(t),this.err="Wrong email or password"}))},reset(){this.captcha===this.newCaptcha?(this.errCaptcha="",this.emailErr="",mt.Z.post(this.url+"registration/reset_password",{email:this.email}).then((()=>{this.success="Your password has been sent to your email address"})).catch((t=>{console.log(t),t.response&&(this.emailErr=t.response.data.errors.email[0])}))):(this.captcha="",this.newCaptcha="",this.emailErr="",this.errCaptcha="Not correct captcha!!!!",this.getCaptcha())},setCaptcha(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=e.length;for(let a=0;a<7;a++)t+=e.charAt(Math.floor(Math.random()*s));return t},getCaptcha(){this.captcha=this.setCaptcha()}},created(){this.getCaptcha(),this.getProducts()}};const Yt=(0,_t.Z)(Et,[["render",Rt],["__scopeId","data-v-42e5fdf4"]]);var jt=Yt,Ft={name:"HeaderComponent",data(){return{showReg:!1,showAut:!1,auth:!1}},components:{reg:vt,aut:jt},computed:{url(){return this.$store.state.URL+"/api/"}},methods:{logout(){Bt.post(this.url+"auth/logout").then((()=>{console.log(this.$store.getters.getAuth,this.$store.getters.getUser),sessionStorage.clear(),this.$store.dispatch("setAuth"),this.$store.dispatch("setUser"),localStorage.clear(),this.$store.dispatch("setCount"),this.$router.push({name:"home"})})).catch((t=>{console.log(t)}))},closeReg(){this.showReg=!1,this.showAut=!1},closeAut(){this.showReg=!1,this.showAut=!1}}};const Kt=(0,_t.Z)(Ft,[["render",M],["__scopeId","data-v-3de1e614"]]);var Qt=Kt;const Tt=t=>((0,o.dD)("data-v-1b3992d6"),t=t(),(0,o.Cn)(),t),Jt={class:"navbar navbar-expand-lg navbar-light"},Wt={class:"container-fluid"},Gt=Tt((()=>(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1))),Xt={class:"collapse navbar-collapse",id:"navbarNavDropdown"},te={class:"navbar-nav"},ee={class:"nav-item"},se=Tt((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-house",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),(0,o._)("path",{"fill-rule":"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})],-1))),ae={class:"nav-item dropdown"},oe=Tt((()=>(0,o._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-card-list",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}),(0,o._)("path",{d:"M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"})]),(0,o.Uk)(" Categories ")],-1))),le={class:"dropdown-menu bg-stat","aria-labelledby":"navbarDropdownMenuLink"},ie={class:"nav-item"},re=Tt((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-info-square",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),(0,o._)("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})],-1)));function ne(t,e,s,a,l,i){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("nav",Jt,[(0,o._)("div",Wt,[Gt,(0,o._)("div",Xt,[(0,o._)("ul",te,[(0,o._)("li",ee,[(0,o.Wm)(r,{to:{name:"home"},class:"nav-link","aria-current":"page"},{default:(0,o.w5)((()=>[se,(0,o.Uk)(" Home ")])),_:1})]),(0,o._)("li",ae,[oe,(0,o._)("ul",le,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.categories,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{key:e},[(0,o.Wm)(r,{class:"dropdown-item",to:{name:"showProducts",params:{id:t.id}}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,c.zw)(t.title),1)])),_:2},1032,["to"])])))),128))])]),(0,o._)("li",ie,[(0,o.Wm)(r,{class:"nav-link",to:{name:"info"}},{default:(0,o.w5)((()=>[re,(0,o.Uk)(" Info ")])),_:1})])])])])])}var ce={name:"NavComponent",components:{},computed:{url(){return this.$store.getters.getUrl+"/api/categories"}},data(){return{categories:{}}},methods:{query(){mt.Z.get(this.url).then((t=>{this.categories=t.data})).catch((t=>{console.log(t)}))}},created(){this.query()}};const de=(0,_t.Z)(ce,[["render",ne],["__scopeId","data-v-1b3992d6"]]);var ue=de;const ge={class:"col-12 p-1"},he={key:0},me={class:"text-danger text-start m-o ps-1"},pe={class:"text-danger text-start m-o ps-1"},_e={key:1},we={class:"p-3"},ve={class:"p-3"},ye={class:"d-block form-control h-i h-v mt-2 p-1"},be={class:"text-danger text-start m-o ps-1"},fe={class:"col-11 m-3 text-center"};function ke(t,e,s,l,i,r){const n=(0,o.up)("editor");return(0,o.wg)(),(0,o.iD)("div",ge,[i.user.name?((0,o.wg)(),(0,o.iD)("div",_e,[(0,o._)("div",we,[(0,o._)("h4",null,"Name: "+(0,c.zw)(i.user.name),1)]),(0,o._)("div",ve,[(0,o._)("h4",null,"Email: "+(0,c.zw)(i.user.email),1)])])):((0,o.wg)(),(0,o.iD)("div",he,[(0,o.wy)((0,o._)("input",{class:"form-control mt-2","onUpdate:modelValue":e[0]||(e[0]=t=>i.user.name=t),placeholder:"Name"},null,512),[[a.nr,i.user.name]]),(0,o._)("div",me,(0,c.zw)(i.err.name[0]),1),(0,o.wy)((0,o._)("input",{class:"form-control mt-2","onUpdate:modelValue":e[1]||(e[1]=t=>i.user.email=t),placeholder:"Email"},null,512),[[a.nr,i.user.email]]),(0,o._)("div",pe,(0,c.zw)(i.err.email[0]),1)])),(0,o._)("div",ye,[(0,o.Wm)(n,{toolbar:"essential",content:i.message,"onUpdate:content":e[2]||(e[2]=t=>i.message=t),contentType:"html",theme:"snow",placeholder:"Message",class:"col-12 h-50"},null,8,["content"])]),(0,o._)("div",be,(0,c.zw)(i.err.message[0]),1),(0,o._)("div",fe,[(0,o._)("button",{class:"btn btn-light",onClick:e[3]||(e[3]=(...t)=>r.send&&r.send(...t))},"Send")])])}var xe=s(9068),Ce={name:"FeedbackComponent",components:{Editor:xe.Bn},data(){return{message:"",err:{name:[""],email:[""],message:[""]},user:{name:"",email:""}}},computed:{url(){return this.$store.getters.getUrl+"/api/"}},methods:{send(){console.log(this.message)},getUser(){sessionStorage.getItem("token")?Bt.post(this.url+"auth/me").then((t=>{this.user=t.data})).catch((t=>{console.log(t)})):this.user={name:"",email:""}}},watch:{"$store.state.auth"(){this.getUser()}},created(){this.getUser()}};const De=(0,_t.Z)(Ce,[["render",ke],["__scopeId","data-v-84dbc6fc"]]);var ze=De;const qe={class:"col-12"};function Se(t,e,s,a,l,i){return(0,o.wg)(),(0,o.iD)("div",qe)}var Ue={name:"SearchComponent"};const Ae=(0,_t.Z)(Ue,[["render",Se]]);var Me=Ae,Pe={name:"app",components:{headerComponent:Qt,navComponent:ue,feedbackComponent:ze,searchComponent:Me},created(){this.$store.dispatch("setAuth")}};const Ie=(0,_t.Z)(Pe,[["render",n]]);var $e=Ie,Oe=s(5205);(0,Oe.z)("/assets/app/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var Ve=s(2201);const He=t=>((0,o.dD)("data-v-4332a946"),t=t(),(0,o.Cn)(),t),Ne={class:"col-11 m-auto m-sm-0 col-sm-5"},Le=["src"],Re={class:"col-11 col-sm-6"},Ze={class:"col-12 m-auto mt-3 row"},Be=He((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product name:")])],-1))),Ee={class:"col-6"},Ye={class:"h5"},je={class:"col-12 m-auto mt-3 row"},Fe=He((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product category:")])],-1))),Ke={class:"col-6"},Qe={class:"h5"},Te={class:"col-12 m-auto mt-3 row"},Je=He((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product price:")])],-1))),We={class:"col-6"},Ge={class:"h5"},Xe={class:"col-12 m-auto mt-3 row"},ts=He((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product Quantity:")])],-1))),es={class:"col-6"},ss={class:"h5"},as=He((()=>(0,o._)("p",{class:"display-6 mt-3 text-center"},[(0,o._)("strong",null,"Product tags")],-1))),os={key:0,class:"col-6"},ls={key:1,class:"col-12 text-center"},is=He((()=>(0,o._)("span",{class:"display-6 p-2 m-2"},[(0,o._)("i",null,"Empty")],-1))),rs=[is],ns={class:"col-12 row mb-5"},cs={class:"col-3 m-auto mt-5 text-danger text-center"},ds=He((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),(0,o._)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1))),us={key:0,class:"col-3 m-auto mt-5 text-danger text-center"},gs=He((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})],-1))),hs={class:"ms-2"},ms={key:1,class:"col-3 m-auto mt-5 text-danger text-center"},ps=He((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1))),_s={class:"ms-2"};function ws(t,e,s,a,l,i){const r=(0,o.up)("router-link");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.products,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row col-10 radius bg-secondary m-auto mb-3"},[(0,o._)("div",Ne,[(0,o._)("img",{src:i.images(t)[0]},null,8,Le)]),(0,o._)("div",Re,[(0,o._)("div",Ze,[Be,(0,o._)("div",Ee,[(0,o._)("span",Ye,[(0,o._)("i",null,(0,c.zw)(t.title),1)])])]),(0,o._)("div",je,[Fe,(0,o._)("div",Ke,[(0,o._)("span",Qe,[(0,o._)("i",null,(0,c.zw)(t.category.title),1)])])]),(0,o._)("div",Te,[Je,(0,o._)("div",We,[(0,o._)("span",Ge,[(0,o._)("i",null,(0,c.zw)(t.price+"$"),1)])])]),(0,o._)("div",Xe,[ts,(0,o._)("div",es,[(0,o._)("span",ss,[(0,o._)("i",null,(0,c.zw)(t.quantity),1)])]),as,t.tags.length?((0,o.wg)(),(0,o.iD)("div",os,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tags,((t,e)=>((0,o.wg)(),(0,o.iD)("span",{key:e,class:"display-6 p-2 m-2 border radius border-dark"},[(0,o._)("i",null,(0,c.zw)(t.title),1)])))),128))])):((0,o.wg)(),(0,o.iD)("div",ls,rs))]),(0,o._)("div",ns,[(0,o._)("div",cs,[(0,o.Wm)(r,{to:{name:"showProduct",params:{id:t.id}},class:"text-dark"},{default:(0,o.w5)((()=>[ds])),_:2},1032,["to"])]),l.like?((0,o.wg)(),(0,o.iD)("div",us,[gs,(0,o._)("span",hs,(0,c.zw)(t.likes.length),1)])):((0,o.wg)(),(0,o.iD)("div",ms,[ps,(0,o._)("span",_s,(0,c.zw)(t.likes.length),1)]))])])])))),128)}var vs={name:"HomeView",data(){return{id:this.$route.params.id,products:{},like:!0}},computed:{url(){return this.$store.getters.getUrl+"/api"}},methods:{images(t){return JSON.parse(t.images)},query(){mt.Z.get(this.url+"/showTop").then((t=>{this.products=t.data})).catch((t=>{console.log(t)}))}},created(){this.query()}};const ys=(0,_t.Z)(vs,[["render",ws],["__scopeId","data-v-4332a946"]]);var bs=ys;const fs=t=>((0,o.dD)("data-v-88786202"),t=t(),(0,o.Cn)(),t),ks={class:"col-11 m-auto m-sm-0 col-sm-5"},xs=["src"],Cs={class:"col-11 col-sm-6"},Ds={class:"col-12 m-auto mt-3 row"},zs=fs((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product name:")])],-1))),qs={class:"col-6"},Ss={class:"h5"},Us={class:"col-12 m-auto mt-3 row"},As=fs((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product category:")])],-1))),Ms={class:"col-6"},Ps={class:"h5"},Is={class:"col-12 m-auto mt-3 row"},$s=fs((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product price:")])],-1))),Os={class:"col-6"},Vs={class:"h5"},Hs={class:"col-12 m-auto mt-3 row"},Ns=fs((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product Quantity:")])],-1))),Ls={class:"col-6"},Rs={class:"h5"},Zs=fs((()=>(0,o._)("p",{class:"display-6 mt-3 text-center"},[(0,o._)("strong",null,"Product tags")],-1))),Bs={key:0,class:"col-6"},Es={key:1,class:"col-12 text-center"},Ys=fs((()=>(0,o._)("span",{class:"display-6 p-2 m-2"},[(0,o._)("i",null,"Empty")],-1))),js=[Ys],Fs={class:"col-12 row mb-5"},Ks={class:"col-3 m-auto mt-5 text-danger text-center"},Qs=fs((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),(0,o._)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1))),Ts={key:0,class:"col-3 m-auto mt-5 text-danger text-center"},Js=fs((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})],-1))),Ws={class:"ms-2"},Gs={key:1,class:"col-3 m-auto mt-5 text-danger text-center"},Xs=fs((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1))),ta={class:"ms-2"};function ea(t,e,s,a,l,i){const r=(0,o.up)("router-link"),n=(0,o.up)("pagination");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.products.data,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"row col-10 radius bg-secondary m-auto mb-3"},[(0,o._)("div",ks,[(0,o._)("img",{src:i.images(t)[0]},null,8,xs)]),(0,o._)("div",Cs,[(0,o._)("div",Ds,[zs,(0,o._)("div",qs,[(0,o._)("span",Ss,[(0,o._)("i",null,(0,c.zw)(t.title),1)])])]),(0,o._)("div",Us,[As,(0,o._)("div",Ms,[(0,o._)("span",Ps,[(0,o._)("i",null,(0,c.zw)(t.category.title),1)])])]),(0,o._)("div",Is,[$s,(0,o._)("div",Os,[(0,o._)("span",Vs,[(0,o._)("i",null,(0,c.zw)(t.price+"$"),1)])])]),(0,o._)("div",Hs,[Ns,(0,o._)("div",Ls,[(0,o._)("span",Rs,[(0,o._)("i",null,(0,c.zw)(t.quantity),1)])]),Zs,t.tags.length?((0,o.wg)(),(0,o.iD)("div",Bs,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tags,((t,e)=>((0,o.wg)(),(0,o.iD)("span",{key:e,class:"display-6 p-2 m-2 border radius border-dark"},[(0,o._)("i",null,(0,c.zw)(t.title),1)])))),128))])):((0,o.wg)(),(0,o.iD)("div",Es,js))]),(0,o._)("div",Fs,[(0,o._)("div",Ks,[(0,o.Wm)(r,{to:{name:"showProduct",params:{id:t.id}},class:"text-dark"},{default:(0,o.w5)((()=>[Qs])),_:2},1032,["to"])]),l.like?((0,o.wg)(),(0,o.iD)("div",Ts,[Js,(0,o._)("span",Ws,(0,c.zw)(t.likes.length),1)])):((0,o.wg)(),(0,o.iD)("div",Gs,[Xs,(0,o._)("span",ta,(0,c.zw)(t.likes.length),1)]))])]),(0,o.Wm)(n,{callback:i.getResults,pagination:l.products,size:"small"},null,8,["callback","pagination"])])))),128)}const sa={key:0,class:"text-dark"},aa=["aria-label"],oa={"aria-hidden":"true"},la=["onClick"],ia=["aria-label"],ra={"aria-hidden":"true"};function na(t,e,s,l,i,r){return 1!==s.pagination.last_page?((0,o.wg)(),(0,o.iD)("nav",sa,[s.pagination.last_page>0?((0,o.wg)(),(0,o.iD)("ul",{key:0,class:(0,c.C_)(["pagination",r.sizeClass])},[r.showPrevious()?((0,o.wg)(),(0,o.iD)("li",{key:0,class:(0,c.C_)(["page-item",{disabled:s.pagination.current_page<=1}])},[s.pagination.current_page>1?((0,o.wg)(),(0,o.iD)("a",{key:0,href:"#",class:"page-link text-dark","aria-label":r.config.ariaPrevioius,onClick:e[0]||(e[0]=(0,a.iM)((t=>r.changePage(s.pagination.current_page-1)),["prevent"]))},[(0,o._)("span",oa,(0,c.zw)(r.config.previousText),1)],8,aa)):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.array,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{class:"page-item",key:e},[(0,o._)("a",{href:"#",class:(0,c.C_)([{"bg-info":t===s.pagination.current_page},"page-link text-dark"]),onClick:(0,a.iM)((e=>r.changePage(t)),["prevent"])},(0,c.zw)(t),11,la)])))),128)),r.showNext()?((0,o.wg)(),(0,o.iD)("li",{key:1,class:(0,c.C_)(["page-item",{disabled:s.pagination.current_page===s.pagination.last_page||0===s.pagination.last_page}])},[s.pagination.current_page<s.pagination.last_page?((0,o.wg)(),(0,o.iD)("a",{key:0,href:"#",class:"page-link text-dark","aria-label":r.config.ariaNext,onClick:e[1]||(e[1]=(0,a.iM)((t=>r.changePage(s.pagination.current_page+1)),["prevent"]))},[(0,o._)("span",ra,(0,c.zw)(r.config.nextText),1)],8,ia)):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)}var ca={props:{pagination:{type:Object,required:!0},callback:{type:Function,required:!0},options:{type:Object},size:{type:String}},computed:{array(){if(this.pagination.last_page<=0)return[];let t=this.pagination.current_page-this.config.offset;t<1&&(t=1);let e=t+2*this.config.offset;e>=this.pagination.last_page&&(e=this.pagination.last_page);const s=[];while(t<=e)s.push(t),t+=1;return s},config(){return Object.assign({offset:3,ariaPrevious:"Previous",ariaNext:"Next",previousText:"«",nextText:"»",alwaysShowPrevNext:!1},this.options)},sizeClass(){return"large"===this.size?"pagination-lg":"small"===this.size?"pagination-sm":""}},watch:{"pagination.per_page"(t,e){+t!==+e&&this.callback()}},methods:{showPrevious(){return this.config.alwaysShowPrevNext||this.pagination.current_page>1},showNext(){return this.config.alwaysShowPrevNext||this.pagination.current_page<this.pagination.last_page},changePage(t){this.pagination.current_page!==t&&this.callback(t)}}};const da=(0,_t.Z)(ca,[["render",na]]);var ua=da,ga={name:"ShowProducts",components:{Pagination:ua},data(){return{id:this.$route.params.id,products:{},like:!0}},computed:{url(){return this.$store.getters.getUrl+"/api/categories/"}},methods:{images(t){return JSON.parse(t.images)},query(){mt.Z.get(this.url+this.id).then((t=>{console.log(t),this.products=t.data})).catch((t=>{console.log(t)}))},getResults(t=1){mt.Z.get(this.url+"?page="+t).then((t=>{this.products=t.data}))}},watch:{"$route.params.id":{immediate:!0,handler(){this.id=this.$route.params.id,this.query()}}},created(){this.query()}};const ha=(0,_t.Z)(ga,[["render",ea],["__scopeId","data-v-88786202"]]);var ma=ha;function pa(t,e,s,a,l,i){return(0,o.wg)(),(0,o.iD)("div")}var _a={name:"InfoView"};const wa=(0,_t.Z)(_a,[["render",pa]]);var va=wa;const ya={class:"col-11 justify-content-center ms-5 mt-5 p-3"},ba={class:"col-12 mb-3 bg-dark m-auto text-light radius"},fa={class:"corusel col-12"},ka={class:"corusel-a"},xa=["onClick"],Ca=["src","alt"],Da=(0,o._)("div",{class:"text"},[(0,o._)("a",{href:""})],-1),za=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left-circle",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})],-1),qa=[za],Sa=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right-circle",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"})],-1),Ua=[Sa],Aa={class:"col-12 m-auto mt-3 row"},Ma=(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"display-6"},[(0,o._)("strong",null,"Product name:")])],-1),Pa={class:"col-6"},Ia={class:"display-6"},$a=(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"display-6"},[(0,o._)("strong",null,"Product category:")])],-1),Oa={class:"col-6"},Va={class:"display-6"},Ha=(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"display-6"},[(0,o._)("strong",null,"Product price:")])],-1),Na={class:"col-6"},La={class:"display-6"},Ra=(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"display-6"},[(0,o._)("strong",null,"Product quantity:")])],-1),Za={class:"col-6"},Ba={class:"display-6"},Ea=(0,o._)("p",{class:"display-6 mt-3 text-center"},[(0,o._)("strong",null,"Product tags")],-1),Ya={key:0,class:"col-6"},ja={key:1,class:"col-12 text-center"},Fa=(0,o._)("span",{class:"display-6 p-2 m-2"},[(0,o._)("i",null,"Empty")],-1),Ka=[Fa],Qa=(0,o._)("p",{class:"display-6 mt-3 text-center"},[(0,o._)("strong",null,"Described")],-1),Ta=["innerHTML"],Ja={class:"col-12 row mb-5"},Wa={class:"col-3 m-auto mt-5 text-center"},Ga=["max"],Xa=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})],-1),to={class:"ms-2"},eo=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1),so={class:"ms-2"},ao={class:"col-3 m-auto mt-5 text-center text-muted"},oo=(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-fill",viewBox:"0 0 16 16"},[(0,o._)("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),(0,o._)("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1),lo={class:"ms-2"},io={key:0,class:"col-12 bg-dark m-auto text-light p-3 mb-3 radius"},ro={class:"radius col-11 m-auto border-light border-3"},no={class:"form-control mb-0 p-1"},co={class:"text-danger text-start m-o ps-3"},uo={class:"m-auto mt-3 text-center"},go={class:"radius border-light border-3"},ho={class:"h5 ms-4"},mo=(0,o._)("br",null,null,-1),po={class:"h5 ms-4"},_o=(0,o._)("br",null,null,-1),wo=["innerHTML"];function vo(t,e,s,l,i,r){return(0,o.wg)(),(0,o.iD)("div",ya,[(0,o._)("div",ba,[(0,o._)("div",fa,[(0,o._)("div",ka,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.images,((t,e)=>((0,o.wg)(),(0,o.iD)("span",{key:e,ref_for:!0,ref:"dots",class:"dot",onClick:t=>r.currentSlide(e+1)},null,8,xa)))),128))]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.images,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e,ref_for:!0,ref:"slides",class:"corusel-v"},[(0,o._)("img",{src:t,alt:i.product.title},null,8,Ca),Da])))),128)),(0,o._)("a",{class:"prev text-light",onClick:e[0]||(e[0]=t=>r.goSlide(-1))},qa),(0,o._)("a",{class:"next text-light",onClick:e[1]||(e[1]=t=>r.goSlide(1))},Ua)]),(0,o._)("div",Aa,[Ma,(0,o._)("div",Pa,[(0,o._)("span",Ia,[(0,o._)("i",null,(0,c.zw)(i.product.title),1)])]),$a,(0,o._)("div",Oa,[(0,o._)("span",Va,[(0,o._)("i",null,(0,c.zw)(i.product.category.title),1)])]),Ha,(0,o._)("div",Na,[(0,o._)("span",La,[(0,o._)("i",null,(0,c.zw)(i.product.price+"$"),1)])]),Ra,(0,o._)("div",Za,[(0,o._)("span",Ba,[(0,o._)("i",null,(0,c.zw)(i.product.quantity),1)])]),Ea,i.product.tags.length?((0,o.wg)(),(0,o.iD)("div",Ya,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.product.tags,((t,e)=>((0,o.wg)(),(0,o.iD)("span",{key:e,class:"display-6 p-2 m-2 border radius border-light"},[(0,o._)("i",null,(0,c.zw)(t.title),1)])))),128))])):((0,o.wg)(),(0,o.iD)("div",ja,Ka)),Qa,(0,o._)("span",{class:"p-3 ms-3 me-3",innerHTML:i.product.description},null,8,Ta),(0,o._)("div",Ja,[(0,o._)("div",Wa,[(0,o.wy)((0,o._)("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>i.quantity=t),class:"form-control mb-1 col-3",min:"0",max:i.product.quantity,placeholder:"Quantity"},null,8,Ga),[[a.nr,i.quantity]]),(0,o._)("button",{class:"btn btn-info",onClick:e[3]||(e[3]=t=>r.addBasket(i.product))},"Add basket")]),i.like?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"btn border-0 col-3 m-auto mt-5 text-danger text-center",onClick:e[4]||(e[4]=t=>r.addLike(i.product.id))},[Xa,(0,o._)("span",to,(0,c.zw)(i.product.likes.length),1)])):((0,o.wg)(),(0,o.iD)("div",{key:1,class:"btn border-0 col-3 m-auto mt-5 text-danger text-center",onClick:e[5]||(e[5]=t=>r.addLike(i.product.id))},[eo,(0,o._)("span",so,(0,c.zw)(i.product.likes.length),1)])),(0,o._)("div",ao,[oo,(0,o._)("span",lo,(0,c.zw)(i.product.reviews_count),1)])])])]),t.$store.getters.getAuth?((0,o.wg)(),(0,o.iD)("div",io,[(0,o._)("div",ro,[(0,o._)("div",no,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.comment=t),placeholder:"Comment",class:"h-25 area col-12"},null,512),[[a.nr,i.comment]])]),(0,o._)("div",co,(0,c.zw)(i.err),1),(0,o._)("div",uo,[(0,o._)("button",{class:"btn btn-light",onClick:e[7]||(e[7]=t=>r.addComment())},"Add comment")])])])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.product.comments,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"col-12 bg-dark m-auto text-light p-3 mb-3 radius"},[(0,o._)("div",go,[(0,o._)("span",ho,"User name: "+(0,c.zw)(t.user.name+" "+t.user.last_name),1),mo,(0,o._)("span",po,"User email: "+(0,c.zw)(t.user.email),1),_o,(0,o._)("p",{class:"comment",innerHTML:t.comment},null,8,wo)])])))),128))])}var yo={name:"ProductShowView",data(){return{id:this.$route.params.id,product:{},index:1,like:!0,quantity:null,user:{},err:"",comment:""}},computed:{url(){return this.$store.state.URL+"/api"},images(){return JSON.parse(this.product.images)}},methods:{addComment(){this.err="";const t={user_id:this.user.id,product_id:this.product.id,comment:this.comment};mt.Z.post(this.url+"/comments",t).then((()=>{this.comment=""})).catch((t=>{this.err=t.response.data.message}))},addBasket(t){this.$store.getters.getAuth?this.addBasketAuth(t):this.addBasketUAuth(t)},addBasketUAuth(t){if(this.quantity){let e=JSON.parse(t.images),s=!0,a=[{id:t.id,name:t.title,image:e[0],category:t.category.title,quantity:this.quantity,price:t.price}];if(localStorage.getItem("basket")){let t=JSON.parse(localStorage.getItem("basket"));t.forEach((t=>{t.id===a[0].id&&(t.quantity+=a[0].quantity,s=!1)})),s&&t.push(a[0]),t=JSON.stringify(t),localStorage.setItem("basket",t)}else a=JSON.stringify(a),localStorage.setItem("basket",a);if(localStorage.getItem("count")){let t=localStorage.getItem("count");t=1*t+1,localStorage.setItem("count",t)}else localStorage.setItem("count",1);a=[],this.quantity=null,this.$store.dispatch("setCount")}},addBasketAuth(t){if(this.quantity){let e={price:t.price,user_id:this.user.id,city_id:this.user.city_id,address:this.user.address,product_id:t.id,quantity:this.quantity};Bt.post(this.url+"/orders/auth",e).then((()=>{if(localStorage.getItem("count")){let t=localStorage.getItem("count");t=1*t+1,localStorage.setItem("count",t),this.quantity=null,this.$store.dispatch("setCount")}else localStorage.setItem("count",1)})).catch((t=>{console.log(t)}))}},addLike(t){Bt.post(this.url+"/likes/"+t).then((t=>{console.log(t)}))},query(){mt.Z.get(this.url+"/products/"+this.id).then((t=>{console.log(t),this.product=t.data})).catch((t=>{console.log(t)}))},getUser(){sessionStorage.getItem("token")?Bt.post(this.url+"/auth/me").then((t=>{this.user=t.data,console.log(this.user)})).catch((t=>{console.log(t)})):this.user={}},start(){setInterval(this.goSlide,3e3)},showSlides(t){const e=this.$refs.slides,s=this.$refs.dots;t>e.length&&(this.index=1),t<1&&(this.index=e.length);for(let a=0;a<e.length;a++)e[a].style.display="none";for(let a=0;a<s.length;a++)s[a].className=s[a].className.replace("active","");e[this.index-1].style.display="block",s[this.index-1].className+=" active"},goSlide(){this.showSlides(this.index+=1)},currentSlide(t){this.index=t,this.showSlides(this.index)},addReviewsCount(t){mt.Z.get(this.url+"/products/reviews_count/"+t).then((()=>{this.query()})).catch((t=>{console.log(t)}))}},watch:{"$store.state.auth"(){this.getUser()}},created(){this.getUser(),this.addReviewsCount(this.id)},mounted(){this.showSlides(this.index),this.start()}};const bo=(0,_t.Z)(yo,[["render",vo]]);var fo=bo;const ko=t=>((0,o.dD)("data-v-567add2b"),t=t(),(0,o.Cn)(),t),xo={class:"col-11 m-auto m-sm-0 col-sm-5"},Co=["src"],Do={class:"col-11 col-sm-6"},zo={class:"col-12 m-auto mt-3 row"},qo=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product name:")])],-1))),So={class:"col-6"},Uo={class:"h5"},Ao={class:"col-12 m-auto mt-3 row"},Mo=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product category:")])],-1))),Po={class:"col-6"},Io={class:"h5"},$o={class:"col-12 m-auto mt-3 row"},Oo=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product price:")])],-1))),Vo={class:"col-6"},Ho={class:"h5"},No={class:"col-12 m-auto mt-3 row"},Lo=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product Quantity:")])],-1))),Ro={class:"col-6"},Zo={class:"h5"},Bo={class:"col-6"},Eo=["max"],Yo={class:"text-danger"},jo={class:"col-12 m-auto mt-3 row"},Fo={class:"m-3 p-3 col-6"},Ko=ko((()=>(0,o._)("option",{disabled:"",value:""},"Edge",-1))),Qo=["value"],To={class:"text-danger text-start m-o ps-3"},Jo=ko((()=>(0,o._)("option",{value:""},"Region",-1))),Wo=["value"],Go=ko((()=>(0,o._)("option",{disabled:"",value:""},"City",-1))),Xo=["value"],tl={key:2,class:"text-danger text-start m-o ps-3"},el={class:"text-danger text-start m-o ps-3"},sl={class:"col-12 row mb-5"},al={key:0,class:"col-10 col-sm-3 m-auto mt-1 mt-sm-5 text-danger text-center"},ol=["onClick"],ll={key:1,class:"col-10 col-sm-3 m-auto mt-1 mt-sm-5 text-danger text-center"},il=["onClick"],rl={class:"col-10 col-sm-3 mt-1 m-auto mt-sm-5 text-danger text-center"},nl=["onClick"],cl={class:"col-10 col-sm-3 mt-1 m-auto mt-sm-5 text-danger text-center"},dl={class:"col-10 col-sm-3 m-auto mt-sm-5 mt-1 text-danger text-center"},ul=["onClick"],gl={class:"col-11 m-auto m-sm-0 col-sm-5"},hl=["src"],ml={class:"col-11 col-sm-6"},pl={class:"col-12 m-auto mt-3 row"},_l=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product name:")])],-1))),wl={class:"col-6"},vl={class:"h5"},yl={class:"col-12 m-auto mt-3 row"},bl=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product category:")])],-1))),fl={class:"col-6"},kl={class:"h5"},xl={class:"col-12 m-auto mt-3 row"},Cl=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product price:")])],-1))),Dl={class:"col-6"},zl={class:"h5"},ql={class:"col-12 m-auto mt-3 row"},Sl=ko((()=>(0,o._)("div",{class:"col-6"},[(0,o._)("span",{class:"h5"},[(0,o._)("strong",null,"Product Quantity:")])],-1))),Ul={class:"col-6"},Al={class:"h5"},Ml={class:"col-6"},Pl=["max"],Il={class:"text-danger"},$l={class:"col-12 m-auto mt-3 row"},Ol={class:"m-3 p-3 col-6"},Vl=ko((()=>(0,o._)("option",{disabled:"",value:""},"Edge",-1))),Hl=["value"],Nl={class:"text-danger text-start m-o ps-3"},Ll=ko((()=>(0,o._)("option",{value:""},"Region",-1))),Rl=["value"],Zl=ko((()=>(0,o._)("option",{disabled:"",value:""},"City",-1))),Bl=["value"],El={key:2,class:"text-danger text-start m-o ps-3"},Yl={class:"text-danger text-start m-o ps-3"},jl={class:"col-12 row mb-5"},Fl={class:"col-10 col-sm-3 m-auto mt-1 mt-sm-5 text-danger text-center"},Kl=["onClick"],Ql={class:"col-10 col-sm-3 mt-1 m-auto mt-sm-5 text-danger text-center"},Tl=["onClick"],Jl={class:"col-10 col-sm-3 mt-1 m-auto mt-sm-5 text-danger text-center"},Wl=["onClick"],Gl={class:"col-10 col-sm-3 m-auto mt-sm-5 mt-1 text-danger text-center"},Xl=["onClick"];function ti(t,e,s,l,i,r){return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.products,((s,l)=>((0,o.wg)(),(0,o.iD)("div",{key:l,class:"row col-10 radius bg-secondary m-auto mb-3"},[t.$store.getters.getAuth?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("div",gl,[(0,o._)("img",{src:r.images(s)[0]},null,8,hl)]),(0,o._)("div",ml,[(0,o._)("div",pl,[_l,(0,o._)("div",wl,[(0,o._)("span",vl,[(0,o._)("i",null,(0,c.zw)(s.title),1)])])]),(0,o._)("div",yl,[bl,(0,o._)("div",fl,[(0,o._)("span",kl,[(0,o._)("i",null,(0,c.zw)(s.category.title),1)])])]),(0,o._)("div",xl,[Cl,(0,o._)("div",Dl,[(0,o._)("span",zl,[(0,o._)("i",null,(0,c.zw)(s.price*s.order_quantity+"$"),1)])])]),(0,o._)("div",ql,[Sl,(0,o.wy)((0,o._)("div",Ul,[(0,o._)("span",Al,[(0,o._)("i",null,(0,c.zw)(s.order_quantity),1)])],512),[[a.F8,!r.show(s.id)]]),(0,o.wy)((0,o._)("div",Ml,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control col-3","onUpdate:modelValue":e[8]||(e[8]=t=>i.quantity=t),min:"0",max:i.productQuantity,placeholder:"Quantity"},null,8,Pl),[[a.nr,i.quantity]]),(0,o._)("div",Il,(0,c.zw)(i.err),1)],512),[[a.F8,r.show(s.id)]]),(0,o.wy)((0,o._)("div",$l,[(0,o._)("div",Ol,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>i.edge_id=t),class:"form-select m-3 mb-0 p-3",onChange:e[10]||(e[10]=t=>{r.queryRegions(t),r.queryCity(t)})},[Vl,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.edges,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,Hl)))),128))],544),[[a.bM,i.edge_id]]),(0,o._)("div",Nl,(0,c.zw)(i.errC.edge_id[0]),1),i.regions?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:0,"onUpdate:modelValue":e[11]||(e[11]=t=>i.region_id=t),class:"form-select m-3 mb-0 p-3",onChange:e[12]||(e[12]=t=>r.queryCity(t))},[Ll,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.regions,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,Rl)))),128))],544)),[[a.bM,i.region_id]]):(0,o.kq)("",!0),i.cities?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:1,"onUpdate:modelValue":e[13]||(e[13]=t=>i.city_id=t),class:"form-select m-3 mb-0 p-3"},[Zl,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.cities,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,Bl)))),128))],512)),[[a.bM,i.city_id]]):(0,o.kq)("",!0),i.cities?((0,o.wg)(),(0,o.iD)("div",El,(0,c.zw)(i.errC.city_id[0]),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control m-3 mb-0 p-3",name:"address","onUpdate:modelValue":e[14]||(e[14]=t=>i.address=t),placeholder:"Address"},null,512),[[a.nr,i.address,void 0,{trim:!0}]]),(0,o._)("div",Yl,(0,c.zw)(i.errC.address[0]),1)])],512),[[a.F8,r.panel(s.id)]])]),(0,o._)("div",jl,[(0,o._)("div",Fl,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.setOrderAuth(s.order_id)},"Order",8,Kl)]),(0,o.wy)((0,o._)("div",Ql,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.getProductQuantity(s)},"Update",8,Tl)],512),[[a.F8,!r.show(s.id)]]),(0,o.wy)((0,o._)("div",Jl,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.updateAuth(s)},"Update",8,Wl)],512),[[a.F8,r.show(s.id)]]),(0,o._)("div",Gl,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.deletedAut(s.order_id)},"Delete",8,Xl)])])])],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("div",xo,[(0,o._)("img",{src:s.image},null,8,Co)]),(0,o._)("div",Do,[(0,o._)("div",zo,[qo,(0,o._)("div",So,[(0,o._)("span",Uo,[(0,o._)("i",null,(0,c.zw)(s.name),1)])])]),(0,o._)("div",Ao,[Mo,(0,o._)("div",Po,[(0,o._)("span",Io,[(0,o._)("i",null,(0,c.zw)(s.category),1)])])]),(0,o._)("div",$o,[Oo,(0,o._)("div",Vo,[(0,o._)("span",Ho,[(0,o._)("i",null,(0,c.zw)(s.price*s.quantity+"$"),1)])])]),(0,o._)("div",No,[Lo,(0,o.wy)((0,o._)("div",Ro,[(0,o._)("span",Zo,[(0,o._)("i",null,(0,c.zw)(s.quantity),1)])],512),[[a.F8,!r.show(s.id)]]),(0,o.wy)((0,o._)("div",Bo,[(0,o.wy)((0,o._)("input",{type:"number",class:"form-control col-3","onUpdate:modelValue":e[0]||(e[0]=t=>i.quantity=t),min:"0",max:i.productQuantity,placeholder:"Quantity"},null,8,Eo),[[a.nr,i.quantity]]),(0,o._)("div",Yo,(0,c.zw)(i.err),1)],512),[[a.F8,r.show(s.id)]]),(0,o.wy)((0,o._)("div",jo,[(0,o._)("div",Fo,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.edge_id=t),class:"form-select m-3 mb-0 p-3",onChange:e[2]||(e[2]=t=>{r.queryRegions(t),r.queryCity(t)})},[Ko,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.edges,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,Qo)))),128))],544),[[a.bM,i.edge_id]]),(0,o._)("div",To,(0,c.zw)(i.errC.edge_id[0]),1),i.regions?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:0,"onUpdate:modelValue":e[3]||(e[3]=t=>i.region_id=t),class:"form-select m-3 mb-0 p-3",onChange:e[4]||(e[4]=t=>r.queryCity(t))},[Jo,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.regions,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,Wo)))),128))],544)),[[a.bM,i.region_id]]):(0,o.kq)("",!0),i.cities?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:1,"onUpdate:modelValue":e[5]||(e[5]=t=>i.city_id=t),class:"form-select m-3 mb-0 p-3"},[Go,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.cities,((t,e)=>((0,o.wg)(),(0,o.iD)("option",{value:t.id,key:e},(0,c.zw)(t.name),9,Xo)))),128))],512)),[[a.bM,i.city_id]]):(0,o.kq)("",!0),i.cities?((0,o.wg)(),(0,o.iD)("div",tl,(0,c.zw)(i.errC.city_id[0]),1)):(0,o.kq)("",!0),(0,o.wy)((0,o._)("input",{type:"text",class:"form-control m-3 mb-0 p-3",name:"address","onUpdate:modelValue":e[6]||(e[6]=t=>i.address=t),placeholder:"Address"},null,512),[[a.nr,i.address,void 0,{trim:!0}]]),(0,o._)("div",el,(0,c.zw)(i.errC.address[0]),1)])],512),[[a.F8,r.panel(s.id)]])]),(0,o._)("div",sl,[i.guard?((0,o.wg)(),(0,o.iD)("div",al,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.showPanel(s)},"Order",8,ol)])):((0,o.wg)(),(0,o.iD)("div",ll,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.setOrderUAuth(s)},"Order",8,il)])),(0,o.wy)((0,o._)("div",rl,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.getProductQuantity(s)},"Update",8,nl)],512),[[a.F8,!r.show(s.id)]]),(0,o.wy)((0,o._)("div",cl,[(0,o._)("button",{class:"btn btn-light",onClick:e[7]||(e[7]=t=>r.updateUAuth())},"Update")],512),[[a.F8,r.show(s.id)]]),(0,o._)("div",dl,[(0,o._)("button",{class:"btn btn-light",onClick:t=>r.deletedUAut(s.id)},"Delete",8,ul)])])])],64))])))),128))])}var ei={name:"BasketView",data(){return{products:[],updateId:null,productQuantity:null,quantity:null,err:"",edges:{},regions:null,cities:null,edge_id:"",region_id:"",city_id:"",address:"",errC:{edge_id:[""],region_id:[""],city_id:[""],address:[""]},panel_id:null,guard:!this.$store.state.aut,user:{}}},computed:{url(){return this.$store.getters.getUrl+"/api/"}},methods:{images(t){return JSON.parse(t.images)},getUser(){sessionStorage.getItem("token")?Bt.post(this.url+"auth/me").then((t=>{this.user=t.data,console.log(this.user),this.getProductsAuth(this.user.id)})).catch((t=>{console.log(t)})):this.user={}},getProductsUAuth(){localStorage.getItem("basket")&&(this.products=JSON.parse(localStorage.getItem("basket")))},getProductsAuth(t){Bt.get(this.url+"orders/products/"+t).then((t=>{console.log(t),this.products=t.data})).catch((t=>{console.log(t)}))},getProductQuantity(t){this.updateId=t.id,t.order_quantity?this.quantity=t.order_quantity:this.quantity=t.quantity,mt.Z.get(this.url+"products/quantity/"+t.id).then((t=>{this.productQuantity=t.data,this.productQuantity<this.quantity&&(this.quantity=this.productQuantity),0===this.productQuantity&&(this.err="No product")})).catch((t=>{console.log(t)}))},show(t){return t===this.updateId},updateUAuth(){if(0===this.quantity)this.deleted(this.updateId),this.updateId=null,this.quantity=null,this.productQuantity=null;else{let t=JSON.parse(localStorage.getItem("basket"));t.forEach((t=>{t.id===this.updateId&&(t.quantity=this.quantity)})),t=JSON.stringify(t),localStorage.setItem("basket",t),this.updateId=null,this.quantity=null,this.productQuantity=null}this.getProducts()},deletedUAut(t){let e=JSON.parse(localStorage.getItem("basket")),s=e.filter((e=>e.id!==t));s=JSON.stringify(s),localStorage.setItem("basket",s);let a=1*localStorage.getItem("count");a>0?a-=1:a=0,localStorage.setItem("count",a),this.$store.dispatch("setCount"),this.getProducts()},updateAuth(t){console.log(t),0===this.quantity?this.deletedAut(t.order_id):Bt.post(this.url+"orders/update",{order_id:t.order_id,quantity:this.quantity}).then((()=>{this.getProductsAuth(this.user.id),this.updateId=null})).catch((t=>{console.log(t)}))},deletedAut(t){Bt["delete"](this.url+"orders/"+t).then((()=>{this.getProductsAuth(this.user.id);let t=1*localStorage.getItem("count");t>0?t-=1:t=0,localStorage.setItem("count",t),this.$store.dispatch("setCount")})).catch((t=>{console.log(t)}))},setOrderAuth(t){Bt.get(this.url+"orders/set_order/"+t).then((()=>{this.getProductsAuth(this.user.id);let t=1*localStorage.getItem("count");t>0?t-=1:t=0,localStorage.setItem("count",t),this.$store.dispatch("setCount")})).catch((t=>{console.log(t)}))},showPanel(t){this.panel_id=t.id,this.guard=!this.guard},panel(t){return t===this.panel_id},setOrderUAuth(t){this.errC={edge_id:[""],region_id:[""],city_id:[""],address:[""]};const e={product_id:t.id,quantity:t.quantity,price:t.price,edge_id:this.edge_id,city_id:this.city_id,address:this.address,region_id:this.region_id};mt.Z.post(this.url+"orders/u_auth",e).then((()=>{this.deleted(t.id),this.getProducts()})).catch((t=>{console.log(t),t.response.data.errors&&(this.errC=Object.assign(this.errC,t.response.data.errors))}))},queryRegions(t){let e=t.target.value;this.region_id="",e&&mt.Z.get(this.url+"orders/edge_regions/"+e).then((t=>{this.regions=t.data})).catch((t=>{console.log(t)}))},queryCity(t){let e=t?t.target.value:this.edge_id,s="";if(this.region_id&&e)s+=this.url+"orders/region_cities/"+e;else{if(!this.edge_id||this.region_id)return!1;s+=this.url+"orders/edge_cities/"+this.edge_id}mt.Z.get(s).then((t=>{this.cities=t.data})).catch((t=>{console.log(t)}))},queryEdges(){mt.Z.get(this.url+"orders/edges").then((t=>{this.edges=t.data})).catch((t=>{console.log(t)}))}},watch:{"$store.state.auth"(){this.getUser()}},created(){this.getUser(),this.getProductsUAuth(),this.queryEdges()}};const si=(0,_t.Z)(ei,[["render",ti],["__scopeId","data-v-567add2b"]]);var ai=si;const oi=[{path:"/",name:"home",component:bs},{path:"/showProducts/:id",name:"showProducts",component:ma},{path:"/showProduct/:id",name:"showProduct",component:fo},{path:"/basket",name:"basket",component:ai},{path:"/info",name:"info",component:va},{path:"/:pathMatch(.*)*",redirect:"/"}],li=(0,Ve.p7)({history:(0,Ve.PO)("/"),routes:oi});var ii=li,ri=s(3907),ni=(0,ri.MT)({state:{URL:"http://api.loc",auth:!1,user:{},count:0|localStorage.getItem("count")},getters:{getUrl(t){return t.URL},getCount(t){return t.count},getAuth(t){return t.auth},getUser(t){return t.user},getCategories(){return this.state.categories}},mutations:{updateCount(t){t.count=0|localStorage.getItem("count")},updateAuth(t){sessionStorage.getItem("token")?t.auth=!0:t.auth=!1},updateUser(t){sessionStorage.getItem("token")?Bt.post(t.URL+"/api/auth/me").then((e=>{t.user=e.data,t.auth=!0})).catch((t=>{console.log(t)})):(t.user={},t.auth=!1)}},actions:{setCount(t){t.commit("updateCount")},setAuth(t){t.commit("updateAuth")},setUser(t){t.commit("updateUser")}},modules:{}}),ci=s(2346);s(8877);const di=a.ri($e);di.use(ci.Z,mt.Z).use(ni).use(ii).mount("#app")}},e={};function s(a){var o=e[a];if(void 0!==o)return o.exports;var l=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(l.exports,l,l.exports,s),l.loaded=!0,l.exports}s.m=t,function(){s.amdO={}}(),function(){var t=[];s.O=function(e,a,o,l){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],l=t[d][2];for(var r=!0,n=0;n<a.length;n++)(!1&l||i>=l)&&Object.keys(s.O).every((function(t){return s.O[t](a[n])}))?a.splice(n--,1):(r=!1,l<i&&(i=l));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[a,o,l]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,l,i=a[0],r=a[1],n=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(n)var d=n(s)}for(e&&e(a);c<i.length;c++)l=i[c],s.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return s.O(d)},a=self["webpackChunkapp"]=self["webpackChunkapp"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(2744)}));a=s.O(a)})();
//# sourceMappingURL=app.30425359.js.map